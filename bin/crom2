#!/usr/bin/env node

var Registry = require("../lib/Registry");

require("../plugin/GitHub");

Registry.findModules("d3-format", function(error, modules) {
  if (error) throw error;
  if (!modules.length) return void console.error("no module found");

  for (var i = 0, n = modules.length; i < n; ++i) {
    console.log((i ? "✗" : "✓") + " " + modules[i]);
  }

  modules[0].findRelease("*", function(error, release) {
    if (error) throw error;
    console.log("✓ " + release);
    release.download("d3-format.zip", function(error) {
      if (error) throw error;
      console.log("✓ " + "d3-format.zip");
    });
  });
});
